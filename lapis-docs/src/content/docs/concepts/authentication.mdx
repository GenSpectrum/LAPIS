---
title: Authentication
description: How to authenticate requests to LAPIS
---

import { Code } from '@astrojs/starlight/components';
import { getLapisUrl } from '../../../lapisUrl';
import { instanceRequiresAuthentication } from '../../../utils/instanceRequiresAuthentication.ts';

:::note
This LAPIS instance
**{await instanceRequiresAuthentication() ? 'requires' : 'does not require'} authentication**
to access its data.
:::

Some LAPIS instances require authentication to access their data.
If an instance is configured with authentication, you need to include a valid access token in your requests.

## Checking if Authentication is Required

Try accessing any endpoint without authentication:

<Code lang='bash' code={`curl ${getLapisUrl()}/sample/info -v`} />

If authentication is required,
you'll receive a <code>401 Unauthorized</code> response and the output will contain something like

```
> ...
< HTTP/1.1 401
< ...
```

If the instance is open (no authentication), you'll receive the normal response data.

## Getting an Access Token

Contact the LAPIS instance administrator to learn how to obtain an access token.
The method depends on the identity provider configured for that instance.
Common methods include:

- **Username/password** - Exchange credentials for a token
- **Client credentials** - Use a client ID and secret
- **OAuth 2.0 flows** - Authorization code, device flow, etc.

## Making Authenticated Requests

To make authenticated requests to LAPIS,
include the access token in the `Authorization` header using the `Bearer` scheme:

<Code lang='bash' code={`curl -H "Authorization: Bearer YOUR_ACCESS_TOKEN" ${getLapisUrl()}/sample/aggregated`} />
