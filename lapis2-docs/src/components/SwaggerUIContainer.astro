---
interface Props {
    url: string;
}

const { url } = Astro.props;
const test = 'df';
---

<head>
    <!-- TODO Don't fetch from external source! -->
    <link rel='stylesheet' href='https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui.css' />
</head>

<div class='not-content'>
    <swagger-ui-container data-url={url}></swagger-ui-container>
</div>

<script>
    import SwaggerUI from 'swagger-ui';

    class SwaggerUiContainer extends HTMLElement {
        constructor() {
            super();
            SwaggerUI({
                domNode: this,
                url: this.dataset.url,
            });
        }
    }

    customElements.define('swagger-ui-container', SwaggerUiContainer);
</script>
